---
output:
  github_document:
    html_preview: false
---

<!-- To render, run:
Sys.setenv(RSTUDIO_PANDOC = "C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools")
rmarkdown::render("README.Rmd")
-->
<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```
<!-- badges: start -->
[![R-CMD-check](https://github.com/Nowosad/vectormetrics/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/Nowosad/vectormetrics/actions/workflows/R-CMD-check.yaml)
[![CodecovTestCoverage](https://codecov.io/gh/Nowosad/vectormetrics/branch/master/graph/badge.svg)](https://app.codecov.io/gh/Nowosad/vectormetrics?branch=master)
<!-- badges: end -->

## Overview

`vectormetrics` is a R package for calculating landscape and shape metrics for vector layers.
Its aim is to provide a set of metrics that can characterize landscape patterns and properties of the shapes defined as polygons and multipolygons.
Whole package is based on Simple Feature geometry format provided by `sf` package.
Every function can be used in a piped workflow, as it always takes the data as the first argument and returns a `tibble`.

### Citation

how to cite this package

## Installation

You can install the released version of `vectormetrics` from [CRAN](https://CRAN.R-project.org) with:

```{r install_cran, eval = FALSE}
install.packages("vectormetrics")
```

You can also download most recent development version of the package from GitHub with:

```{r install_github, eval = FALSE}
remotes::install_github("Nowosad/vectormetrics")
```

## Using vectormetrics

### Function names structure

All functions in `landscapemetrics` start with *vm_* (for vector landscape metrics).
The second part of the name specifies the level (patch - *p*, class - *c* or landscape - *l*).
The last part of the function name is the abbreviation of the corresponding metric (e.g. *enn* for the euclidean nearest-neighbor distance and *rect* for the rectangularity).
Some landscape and class level functions have also a suffix at the end, that specifies the aggregation method (e.g. mean, sd).

```{r function_names, eval = FALSE}
# Patch level
## vm_p_"metric"
vm_p_area()
vm_p_square()

# Class level
## vm_c_"metric"[_"aggregation"]
vm_c_np()
vm_c_shape_sd()

# Landscape level
## vm_l_"metric"[_"aggregation"]
vm_l_lpi()
vm_l_square_mn()
```

### Examples

Some examples of calculating metrics on all levels and with different class and patch columns.

```{r vector_landscape}
library(vectormetrics)

vector_landscape = sf::st_as_sf(vector_landscape)
plot(vector_landscape)
```

```{r simple_examples}
## Shape index
vm_p_shape(vector_landscape, class = "class")

## Number of patches
vm_c_np(vector_landscape, class = "class")

## Largest patch index
vm_l_lpi(vector_landscape)

## Mean squareness
vm_l_square_mn(vector_landscape)
```

### Utility functions

For now there are two utility functions available in the package.
First one is `get_patches()` which breaks Multipolygon geometries into Polygons.
There are two types of neighbourhood relations available: 4 (edge) and 8 (vertex).
This function enables user to create set of geometries from aggregated shapes and analyze each shape's properties seperately.

```{r get_patches, message = FALSE}
vector_patches = get_patches(vector_landscape, class = "class", direction = 4)
vector_patches

## Shape index
vm_p_shape(vector_patches, class = "class", patch_id = "patch")

## Number of patches
vm_c_np(vector_patches, class = "class")

## Mean squareness
vm_l_square_mn(vector_patches)
```

Another utility function is `get_axes()` which calculates the length of the major and minor axes of the shape.
It is used to calculate the elongation metric in `vm_p_elong()` but since length of axes might be useful information itself, `get_axes()` was exported as seperate function.

```{r get_axes, message = FALSE}
get_axes(vector_patches, "class")
```

## Contributing

how to contribute

## References

list of references
